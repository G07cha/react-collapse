(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{223:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",function(){return CollapseStory});var _emotion_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_emotion_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(95),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_Collapse__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(67),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(94),_reach_component_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(134),_icons_Down__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__(498),__webpack_require__(500),__webpack_require__(226));function _templateObject7(){var data=_taggedTemplateLiteral(["\n    max-width: 600px;\n    margin: 0 auto;\n    padding: 10px;\n  "]);return _templateObject7=function _templateObject7(){return data},data}function _templateObject6(){var data=_taggedTemplateLiteral(["\n    margin-bottom: 40px;\n\n    button {\n      font-size: 100%;\n      background: none;\n      padding: 10px;\n\n      + button {\n        margin-left: 10px;\n      }\n    }\n  "]);return _templateObject6=function _templateObject6(){return data},data}function _templateObject5(){var data=_taggedTemplateLiteral(["\n    max-width: 600px;\n    margin: 0 auto;\n    padding: 10px;\n  "]);return _templateObject5=function _templateObject5(){return data},data}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _templateObject4(){var data=_taggedTemplateLiteral(["\n    border: 1px solid #ccc;\n    margin-bottom: 10px;\n  "]);return _templateObject4=function _templateObject4(){return data},data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  font-size: inherit;\n  width: 100%;\n  font-size: 100%;\n  background: transparent;\n  box-shadow: none;\n  width: 100%;\n  margin: 0;\n  padding: 10px;\n  text-align: left;\n  cursor: pointer;\n  display: flex;\n  justify-content: space-between;\n  color: purple;\n"]);return _templateObject3=function _templateObject3(){return data},data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  max-width: 500px;\n  padding: 1rem;\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  padding: 1rem;\n  margin: 0;\n"]);return _templateObject=function _templateObject(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var Text=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.a.p(_templateObject()),Container=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.a.div(_templateObject2()),Toggle=_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.a.button(_templateObject3());function CollapseStory(){Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("Collapses",module).add("default",function(){return Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(_reach_component_component__WEBPACK_IMPORTED_MODULE_5__.a,{initialState:{isOpen:!1}},function(_ref){var state=_ref.state,setState=_ref.setState;return Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Container,null,Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Toggle,{onClick:function onClick(){return setState({isOpen:!state.isOpen})}},"toggle"),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(_Collapse__WEBPACK_IMPORTED_MODULE_3__.a,{isOpen:state.isOpen},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Text,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Text,null,"below content"))})}).add("multiple",function(){return Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(_reach_component_component__WEBPACK_IMPORTED_MODULE_5__.a,{initialState:{isOpen1:!1,isOpen2:!1}},function(_ref2){var state=_ref2.state,setState=_ref2.setState;return Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Container,null,Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Toggle,{onClick:function onClick(){return setState({isOpen1:!state.isOpen1})}},"toggle"),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(_Collapse__WEBPACK_IMPORTED_MODULE_3__.a,{isOpen:state.isOpen1},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Text,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."))),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Container,null,Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Toggle,{onClick:function onClick(){return setState({isOpen2:!state.isOpen2})}},"Toggle"),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(_Collapse__WEBPACK_IMPORTED_MODULE_3__.a,{isOpen:state.isOpen2},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Text,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Text,null,"below content")))})}).add("collapse-all",function(){return Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(CollapseAll,null)}).add("accordion",function(){return Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Accordion,null)})}function Block(_ref3){var isOpen=_ref3.isOpen,title=_ref3.title,onToggle=_ref3.onToggle,children=_ref3.children,style=Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.a)(_templateObject4());return Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("div",{css:style},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Toggle,{onClick:function onClick(e){console.log(e.target),onToggle()}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("span",{css:{pointerEvents:"none"}},title),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(_icons_Down__WEBPACK_IMPORTED_MODULE_8__.a,{isOpen:isOpen})),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(_Collapse__WEBPACK_IMPORTED_MODULE_3__.a,{isOpen:isOpen},children))}function collapseAllReducer(state,_ref4){var type=_ref4.type,index=_ref4.index;switch(type){case"expand-all":return console.log("expand-all"),_objectSpread({},state,{flags:[!0,!0,!0]});case"collapse-all":return console.log("collapse-all"),_objectSpread({},state,{flags:[!1,!1,!1]});case"toggle":return console.log(index),state.flags[index]=!state.flags[index],_objectSpread({},state);default:throw new Error}}function CollapseAll(){var _React$useReducer2=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_2___default.a.useReducer(collapseAllReducer,{flags:[!1,!1,!1]}),2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1],style=Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.a)(_templateObject5()),headerStyle=Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.a)(_templateObject6());return Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("div",{css:style},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("header",{css:headerStyle},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("button",{onClick:function onClick(){return dispatch({type:"expand-all"})},disabled:state.flags.every(function(s){return!0===s})},"Expand all"),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("button",{onClick:function onClick(){return dispatch({type:"collapse-all"})},disabled:state.flags.every(function(s){return!1===s})},"Collapse all")),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Block,{title:"Cargo details",isOpen:state.flags[0],onToggle:function onToggle(){return dispatch({type:"toggle",index:0})}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("div",{css:{padding:"10px 10px 30px"}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Paragraph of text."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Another paragraph."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Other content."))),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Block,{title:"Your details",isOpen:state.flags[1],onToggle:function onToggle(){return dispatch({type:"toggle",index:1})}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("div",{css:{padding:"10px 10px 30px"}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Paragraph of text."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Another paragraph."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Other content."))),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Block,{title:"Handling instructions",isOpen:state.flags[2],onToggle:function onToggle(){return dispatch({type:"toggle",index:2})}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("div",{css:{padding:"10px 10px 30px"}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Paragraph of text."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Another paragraph."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Other content."))),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Text,null,"Some content below the collapsibles."))}function accordionReducer(state,_ref5){var type=_ref5.type,index=_ref5.index;switch(type){case"toggle":return state.prev!==index&&null!==state.prev&&state.flags[state.prev]&&(state.flags[state.prev]=!1),state.flags[index]=!state.flags[index],state.prev=index,_objectSpread({},state);default:throw new Error}}function Accordion(){var _React$useReducer4=_slicedToArray(react__WEBPACK_IMPORTED_MODULE_2___default.a.useReducer(accordionReducer,{prev:null,flags:[!1,!0,!1]}),2),state=_React$useReducer4[0],dispatch=_React$useReducer4[1],style=Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.a)(_templateObject7());return Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("div",{css:style},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Block,{title:"Cargo details",isOpen:state.flags[0],onToggle:function onToggle(){return dispatch({type:"toggle",index:0})}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("div",{css:{padding:"10px 10px 30px"}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Paragraph of text."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Another paragraph."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Other content."))),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Block,{title:"Your details",isOpen:state.flags[1],onToggle:function onToggle(){return dispatch({type:"toggle",index:1})}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("div",{css:{padding:"10px 10px 30px"}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Paragraph of text."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Another paragraph."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Other content."))),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)(Block,{title:"Handling instructions",isOpen:state.flags[2],onToggle:function onToggle(){return dispatch({type:"toggle",index:2})}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("div",{css:{padding:"10px 10px 30px"}},Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Paragraph of text."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Another paragraph."),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Other content."))),Object(_emotion_core__WEBPACK_IMPORTED_MODULE_0__.b)("p",null,"Some content below the collapsibles."))}}).call(this,__webpack_require__(164)(module))},226:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(227),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),Down=function Down(_ref){var isOpen=_ref.isOpen;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("icon-down",{"is-open":isOpen}),width:"16",height:"16",viewBox:"0 0 16 16"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M14.8 4L8 9.6 1.2 4 0 5.333 8 12l8-6.667z"}))};Down.defaultProps={},__webpack_exports__.a=Down},228:function(module,exports,__webpack_require__){__webpack_require__(229),__webpack_require__(324),module.exports=__webpack_require__(325)},325:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(94),req=__webpack_require__(489);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(164)(module))},489:function(module,exports,__webpack_require__){var map={"./index.stories.js":490};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=489},490:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _src_components_collapse_Collapse_story_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(223);Object(_src_components_collapse_Collapse_story_js__WEBPACK_IMPORTED_MODULE_0__.a)()},491:function(module,exports,__webpack_require__){var content=__webpack_require__(492);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(133)(content,options);content.locals&&(module.exports=content.locals)},492:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(493)(!1)).push([module.i,".collapse-css-transition {\n  transition: height 300ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n.collapse-css-transition > * {\n  transition: transform 300ms cubic-bezier(0.4, 0, 0.2, 1);\n  will-change: transform;\n}\n\n.-c-is--collapsing > * {\n  transform: translateY(-6px);\n}\n\n.-c-is--collapsed > * {\n  transform: translateY(-6px);\n}\n\n.-c-is--expanding > * {\n  transform: translateX(0);\n}\n\n.-c-is--expanded > * {\n  transform: translateX(0);\n}\n",""])},498:function(module,exports,__webpack_require__){var content=__webpack_require__(499);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(133)(content,options);content.locals&&(module.exports=content.locals)},499:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(221)(!1)).push([module.i,"*,\n:before,\n:after {\n  box-sizing: border-box; }\n\n:root {\n  font-size: x-small;\n  scroll-behavior: smooth; }\n\nbody {\n  font: 1.6rem / 1.5 sans-serif;\n  margin: 0;\n  min-height: 100vh;\n  overflow-y: scroll; }\n\na {\n  color: black;\n  font-size: inherit; }\n\nbutton {\n  font-size: inherit;\n  box-shadow: none;\n  background: transparent;\n  border: 1px solid #ccc;\n  padding: 0.5rem;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n",""])},500:function(module,exports,__webpack_require__){var content=__webpack_require__(501);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(133)(content,options);content.locals&&(module.exports=content.locals)},501:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(221)(!1)).push([module.i,"button {\n  transition: color 250ms; }\n\nbutton[disabled] {\n  color: #aaa; }\n\n.icon-down {\n  fill: purple;\n  transition: transform 200ms;\n  pointer-events: none; }\n  .icon-down.is-open {\n    transform: rotate(0.5turn); }\n",""])},67:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(491);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),debugLog=function(){var _console;(_console=console).log.apply(_console,arguments)};function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);return Object.getOwnPropertySymbols&&keys.push.apply(keys,Object.getOwnPropertySymbols(object)),enumerableOnly&&(keys=keys.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var COLLAPSED="collapsed",COLLAPSING="collapsing",EXPANDING="expanding",EXPANDED="expanded";function nextFrame(callback){requestAnimationFrame(function(){setTimeout(callback,0)})}function isMoving(collapseState){return collapseState===EXPANDING||collapseState===COLLAPSING}function Collapse(_ref){var className=_ref.className,excludeStateCSS=_ref.excludeStateCSS,children=_ref.children,transition=_ref.transition,style=_ref.style,render=_ref.render,elementType=_ref.elementType,layoutEffect=_ref.layoutEffect,isOpen=_ref.isOpen,collapseHeight=_ref.collapseHeight,onInit=_ref.onInit,onChange=_ref.onChange,rest=_objectWithoutProperties(_ref,["className","excludeStateCSS","children","transition","style","render","elementType","layoutEffect","isOpen","collapseHeight","onInit","onChange"]),getCollapseHeight=function getCollapseHeight(){return collapseHeight||"0px"},getCollapsedVisibility=function getCollapsedVisibility(){return collapseHeight?"":"hidden"},contentRef=Object(react.useRef)(),_useState2=_slicedToArray(Object(react.useState)(isOpen?EXPANDED:COLLAPSED),2),collapseState=_useState2[0],setCollapseState=_useState2[1],_useState4=_slicedToArray(Object(react.useState)({height:isOpen?null:getCollapseHeight(),visibility:isOpen?null:getCollapsedVisibility()}),2),collapseStyle=_useState4[0],setCollapseStyle=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(!1),2),hasReversed=_useState6[0],setHasReversed=_useState6[1],firstUpdate=Object(react.useRef)(!0);(layoutEffect?react.useLayoutEffect:react.useEffect)(function(){if(contentRef.current){if(firstUpdate.current)return onCallback(onInit),firstUpdate.current=!1,void debugLog("skip effect first render");switch(debugLog("effect after collapseState update"),collapseState){case EXPANDING:!function setExpanding(){debugLog("setExpanding"),nextFrame(function(){if(contentRef.current){var height=getContentHeight();setCollapseStyle({height:height,visibility:""}),onCallback(onChange)}})}();break;case COLLAPSING:!function setCollapsing(){if(debugLog("setCollapsing"),!contentRef.current)return;var height=getContentHeight();setCollapseStyle({height:height,visibility:""}),nextFrame(function(){setCollapseStyle({height:getCollapseHeight(),visibility:""}),onCallback(onChange)})}();break;case EXPANDED:!function setExpanded(){if(debugLog("setExpanded"),!contentRef.current)return;setCollapseStyle({height:"",visibility:""}),onCallback(onChange)}();break;case COLLAPSED:!function setCollapsed(){if(debugLog("setCollapsed"),!contentRef.current)return;setCollapseStyle({height:getCollapseHeight(),visibility:getCollapsedVisibility()}),onCallback(onChange)}()}}},[collapseState]);var onCallback=function onCallback(callback){callback&&(debugLog("onCallback "+callback.name),callback({collapseState:collapseState,collapseStyle:collapseStyle,hasReversed:hasReversed,isMoving:isMoving(collapseState)}))};function getContentHeight(){return"".concat(contentRef.current.scrollHeight,"px")}var didOpen=collapseState===EXPANDED||collapseState===EXPANDING;!didOpen&&isOpen&&(setHasReversed(collapseState===COLLAPSING),setCollapseState(EXPANDING)),didOpen&&!isOpen&&(setHasReversed(collapseState===EXPANDING),setCollapseState(COLLAPSING));var computedStyle=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}({overflow:"hidden",transition:transition},style,{},collapseStyle),ElementType=elementType,collapseClassName=className;return excludeStateCSS||(collapseClassName+=" -c-is--".concat(collapseState)),react_default.a.createElement(ElementType,_extends({ref:contentRef,style:computedStyle,className:collapseClassName,onTransitionEnd:function onTransitionEnd(_ref2){var target=_ref2.target,propertyName=_ref2.propertyName;if(target===contentRef.current&&"height"===propertyName)switch(debugLog("onTransitionEnd",collapseState,propertyName,target.style.height),collapseState){case EXPANDING:"0px"===target.style.height?debugLog("onTransitionEnd height unexpected 0px","ignore setExpanded"):setCollapseState(EXPANDED);break;case COLLAPSING:"0px"!==target.style.height?debugLog("onTransitionEnd height unexpected ".concat(target.style.height),"ignore setCollapsed"):setCollapseState(COLLAPSED);break;default:debugLog("Ignored in onTransitionEnd",collapseState)}}},rest),"function"==typeof render?render(collapseState):children)}Collapse.defaultProps={className:"collapse-css-transition",elementType:"div",style:{}};__webpack_exports__.a=Collapse}},[[228,1,2]]]);
//# sourceMappingURL=main.5c8d04b91a265b3e6f75.bundle.js.map